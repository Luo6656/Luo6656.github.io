<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="author" content="Eric"><meta name="keywords" content=""><meta name="description" content="第一章 Shell概述 / 第二章 Shell解析器 /第三章 Shell脚本入门 / 第四章 Shell中的变量/第五章 运算符 / 第六章 条件判断/第七章 流程控制（重点） / 第八章 read读取控制台输入/第九章 函数 / 第十章 Shell工具（重点）/第十一章 企业真实面试题/
..."><meta name="Robots" content="all"><title>Eric个人博客 | Shell</title><link rel="icon" href="/images/icon.svg"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/atom-one-dark.css"><link rel="stylesheet" href="/css/style.css"><script src="/js/highlight.min.js"></script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Eric个人博客" type="application/atom+xml"></head><body><div class="main-container"><header class="header"><div class="global-width"><nav class="nav-box"><a class="nav-item" href="/">主页</a> <a class="nav-item" href="/resume">项目</a> <a class="nav-item" href="/mood" target="_blank">热点观点</a> <a class="nav-item" href="/2018/01/01/introduce/" target="_blank">个人介绍</a> <a class="nav-item" href="/fuye.md">关于</a></nav></div></header><section class="content global-width"><div class="main"><article class="box post"><div class="post-title align-center detail-title">Shell</div><div class="post-meta align-center"><span class="label">原创</span> <span class="dotted">|</span> <i class="fa fa-calendar"></i> <time>2020-01-03</time> <span class="dotted">|</span> <i class="fa fa-user"></i> Eric <span class="dotted">|</span> <i class="fa fa-folder-open-o"></i> <a class="category-link" href="/categories/Linux/">Linux</a></div><div class="post-content"><p>第一章 Shell概述 / 第二章 Shell解析器 /<br>第三章 Shell脚本入门 / 第四章 Shell中的变量/<br>第五章 运算符 / 第六章 条件判断/<br>第七章 流程控制（重点） / 第八章 read读取控制台输入/<br>第九章 函数 / 第十章 Shell工具（重点）/<br>第十一章 企业真实面试题/</p><a id="more"></a><h1 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h1><h3 id="一、Shell概述"><a href="#一、Shell概述" class="headerlink" title="一、Shell概述"></a>一、Shell概述</h3><p>Shell 是一个<font color="red">命令行解释器</font>, 它接收应用程序/用户命令，然后调用操作系统内核。</p><p>Shell 还是一个功能强大的编程语言，易编写，易调试，灵活性强</p><h3 id="二、Shell解析器"><a href="#二、Shell解析器" class="headerlink" title="二、Shell解析器"></a>二、Shell解析器</h3><p>（1）Linux提供的Shell解析器有：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 ~]$ cat /etc/shells </span><br><span class="line"></span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/sbin/nologin</span><br><span class="line">/bin/dash</span><br><span class="line">/bin/tcsh</span><br><span class="line">/bin/csh</span><br></pre></td></tr></table></figure><p>（2）bash和sh的关系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 bin]$ ll | grep bash</span><br><span class="line"></span><br><span class="line">-rwxr-xr-x. 1 root root 941880 5月  11 2016 bash</span><br><span class="line"></span><br><span class="line">lrwxrwxrwx. 1 root root    4 5月  27 2017 sh -&gt; bash</span><br></pre></td></tr></table></figure><p>（3）Centos默认的解析器是bash</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 bin]$ echo $SHELL</span><br><span class="line"></span><br><span class="line">&#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure><h3 id="三、Shell脚本入门"><a href="#三、Shell脚本入门" class="headerlink" title="三、Shell脚本入门"></a>三、Shell脚本入门</h3><p>1．脚本格式</p><p>脚本以#!/bin/bash开头（指定解析器）</p><p>2．第一个Shell脚本：helloworld</p><p>（1）需求：创建一个Shell脚本，输出helloworld</p><p>（2）案例实操：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch helloworld.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vi helloworld.sh</span><br><span class="line"></span><br><span class="line">在helloworld.sh中输入如下内容</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">echo &quot;helloworld&quot;</span><br></pre></td></tr></table></figure><p>（3）脚本的常用执行方式</p><p>第一种：采用bash或sh+脚本的相对路径或绝对路径（不用赋予脚本+x权限）</p><p>​ sh+脚本的相对路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ sh helloworld.sh </span><br><span class="line"></span><br><span class="line">Helloworld</span><br></pre></td></tr></table></figure><p>​ sh+脚本的绝对路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ sh &#x2F;home&#x2F;atguigu&#x2F;datas&#x2F;helloworld.sh </span><br><span class="line"></span><br><span class="line">helloworld</span><br></pre></td></tr></table></figure><p>​ bash+脚本的相对路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ bash helloworld.sh </span><br><span class="line"></span><br><span class="line">Helloworld</span><br></pre></td></tr></table></figure><p>​ bash+脚本的绝对路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ bash &#x2F;home&#x2F;atguigu&#x2F;datas&#x2F;helloworld.sh </span><br><span class="line"></span><br><span class="line">Helloworld</span><br></pre></td></tr></table></figure><p>第二种：采用输入脚本的绝对路径或相对路径执行脚本（必须具有可执行权限+x）</p><p>（a）首先要赋予helloworld.sh 脚本的+x权限</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ chmod 777 helloworld.sh</span><br></pre></td></tr></table></figure><p>（b）执行脚本</p><p>相对路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;helloworld.sh </span><br><span class="line"></span><br><span class="line">Helloworld</span><br></pre></td></tr></table></figure><p>绝对路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ &#x2F;home&#x2F;atguigu&#x2F;datas&#x2F;helloworld.sh </span><br><span class="line"></span><br><span class="line">Helloworld</span><br></pre></td></tr></table></figure><p>注意：<font color="red">第一种执行方法，本质是bash解析器帮你执行脚本，所以脚本本身不需要执行权限。第二种执行方法，本质是脚本需要自己执行，所以需要执行权限。</font></p><p>3．第二个Shell脚本：多命令处理</p><p>（1）需求：</p><p>在/home/atguigu/目录下创建一个banzhang.txt,在banzhang.txt文件中增加“I love cls”。</p><p>（2）案例实操：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch batch.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vi batch.sh</span><br></pre></td></tr></table></figure><p>在batch.sh中输入如下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">cd &#x2F;home&#x2F;atguigu</span><br><span class="line"></span><br><span class="line">touch cls.txt</span><br><span class="line"></span><br><span class="line">echo &quot;I love cls&quot; &gt;&gt;cls.txt</span><br></pre></td></tr></table></figure><h3 id="四、Shell中的变量"><a href="#四、Shell中的变量" class="headerlink" title="四、Shell中的变量"></a>四、Shell中的变量</h3><h4 id="4-1-系统变量"><a href="#4-1-系统变量" class="headerlink" title="4.1 系统变量"></a>4.1 系统变量</h4><ol><li>常用系统变量</li></ol><p>$HOME、$PWD、$SHELL、$USER等</p><p>​ 2．案例实操</p><p>（1）查看系统变量的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ echo $HOME</span><br><span class="line"></span><br><span class="line">&#x2F;home&#x2F;atguigu</span><br></pre></td></tr></table></figure><p>（2）显示当前Shell中所有变量：set</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ set</span><br><span class="line"></span><br><span class="line">BASH&#x3D;&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">BASH_ALIASES&#x3D;()</span><br><span class="line"></span><br><span class="line">BASH_ARGC&#x3D;()</span><br><span class="line"></span><br><span class="line">BASH_ARGV&#x3D;()</span><br></pre></td></tr></table></figure><h4 id="4-2-自定义变量"><a href="#4-2-自定义变量" class="headerlink" title="4.2 自定义变量"></a>4.2 自定义变量</h4><p>1．基本语法</p><p>（1）定义变量：变量=值</p><p>（2）撤销变量：unset 变量</p><p>（3）声明静态变量：readonly变量，注意：不能unset</p><p>2．变量定义规则</p><p>​ （1）变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。</p><p>​ （2）等号两侧不能有空格</p><p>​ （3）在bash中，变量默认类型都是字符串类型，无法直接进行数值运算。</p><p>​ （4）变量的值如果有空格，需要使用双引号或单引号括起来。</p><p>3．案例实操</p><p>​ （1）定义变量A</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ A&#x3D;5</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ echo $A</span><br><span class="line"></span><br><span class="line">5</span><br></pre></td></tr></table></figure><p>​ （2）给变量A重新赋值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ A&#x3D;8</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ echo $A</span><br><span class="line"></span><br><span class="line">8</span><br></pre></td></tr></table></figure><p>​ （3）撤销变量A</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ unset A</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ echo $A</span><br></pre></td></tr></table></figure><p>​ （4）声明静态的变量B=2，不能unset</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ readonly B&#x3D;2</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ echo $B</span><br><span class="line"></span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ B&#x3D;9</span><br><span class="line"></span><br><span class="line">-bash: B: readonly variable</span><br></pre></td></tr></table></figure><p>​ （5）在bash中，变量默认类型都是字符串类型，无法直接进行数值运算</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 ~]$ C&#x3D;1+2</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop102 ~]$ echo $C</span><br><span class="line"></span><br><span class="line">1+2</span><br></pre></td></tr></table></figure><p>（6）变量的值如果有空格，需要使用双引号或单引号括起来</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 ~]$ D&#x3D;I love banzhang</span><br><span class="line"></span><br><span class="line">-bash: world: command not found</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop102 ~]$ D&#x3D;&quot;I love banzhang&quot;</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop102 ~]$ echo $A</span><br><span class="line"></span><br><span class="line">I love banzhang</span><br></pre></td></tr></table></figure><p>​ （7）可把变量提升为全局环境变量，可供其他Shell程序使用</p><p>export 变量名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ vim helloworld.sh </span><br><span class="line"></span><br><span class="line">在helloworld.sh文件中增加echo $B</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">echo &quot;helloworld&quot;</span><br><span class="line"></span><br><span class="line">echo $B</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;helloworld.sh </span><br><span class="line"></span><br><span class="line">Helloworld</span><br></pre></td></tr></table></figure><p>发现并没有打印输出变量B的值。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ export B</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;helloworld.sh </span><br><span class="line"></span><br><span class="line">helloworld</span><br><span class="line"></span><br><span class="line">2</span><br></pre></td></tr></table></figure><h4 id="4-3-特殊变量：-n"><a href="#4-3-特殊变量：-n" class="headerlink" title="4.3 特殊变量：$n"></a>4.3 特殊变量：$n</h4><p>1．基本语法</p><p>​ $n （功能描述：n为数字，$0代表该脚本名称，$1-$9代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如${10}）</p><p>2．案例实操</p><p>（1）输出该脚本文件名称、输入参数1和输入参数2 的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch parameter.sh </span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim parameter.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">echo &quot;$0  $1  $2&quot;</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ chmod 777 parameter.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;parameter.sh cls  xz</span><br><span class="line"></span><br><span class="line">.&#x2F;parameter.sh  cls  xz</span><br></pre></td></tr></table></figure><h4 id="4-4-特殊变量："><a href="#4-4-特殊变量：" class="headerlink" title="4.4 特殊变量：$#"></a>4.4 特殊变量：$#</h4><p>1．基本语法</p><p>​ $# （功能描述：获取所有输入参数个数，常用于循环）。</p><p>2．案例实操</p><p>（1）获取输入参数的个数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ vim parameter.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">echo &quot;$0  $1  $2&quot;</span><br><span class="line">echo $#</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ chmod 777 parameter.sh</span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;parameter.sh cls  xz</span><br><span class="line"></span><br><span class="line">parameter.sh cls xz </span><br><span class="line"></span><br><span class="line">2</span><br></pre></td></tr></table></figure><h4 id="4-5-特殊变量：-、"><a href="#4-5-特殊变量：-、" class="headerlink" title="4.5 特殊变量：$*、$@"></a>4.5 特殊变量：$*、$@</h4><p>1．基本语法</p><ul><li>​ $* （功能描述：这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体）</li><li>​ $@ （功能描述：这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待）</li></ul><p>2．案例实操</p><p>（1）打印输入的所有参数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ vim parameter.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">echo &quot;$0  $1  $2&quot;</span><br><span class="line">echo $#</span><br><span class="line">echo $*</span><br><span class="line">echo $@</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ bash parameter.sh 1 2 3</span><br><span class="line"></span><br><span class="line">parameter.sh  1  2</span><br><span class="line"></span><br><span class="line">3</span><br><span class="line"></span><br><span class="line">1 2 3</span><br><span class="line"></span><br><span class="line">1 2 3</span><br></pre></td></tr></table></figure><h4 id="4-6-特殊变量："><a href="#4-6-特殊变量：" class="headerlink" title="4.6 特殊变量：$?"></a>4.6 特殊变量：$?</h4><p>1．基本语法</p><p>$？ （功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）</p><p>2．案例实操</p><p>​ （1）判断helloworld.sh脚本是否正确执行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;helloworld.sh </span><br><span class="line"></span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ echo $?</span><br><span class="line"></span><br><span class="line">0</span><br></pre></td></tr></table></figure><h3 id="五、运算符"><a href="#五、运算符" class="headerlink" title="五、运算符"></a>五、运算符</h3><p>1．基本语法</p><p>（1）“$((运算式))”或“$[运算式]”</p><p>（2）expr + , - , *, /, % 加，减，乘，除，取余</p><p>注意：expr运算符间要有空格</p><p>2．案例实操：</p><p>（1）计算3+2的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ expr 2 + 3</span><br><span class="line"></span><br><span class="line">5</span><br></pre></td></tr></table></figure><p>（2）计算3-2的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ expr 3 - 2 </span><br><span class="line"></span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>（3）计算（2+3）X4的值</p><p>​ （a）expr一步完成计算</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ expr &#39;expr 2 + 3&#39; \* 4</span><br><span class="line"></span><br><span class="line">20</span><br></pre></td></tr></table></figure><p>（b）采用$[运算式]方式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]# S&#x3D;$[(2+3)*4]</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]# echo $S</span><br></pre></td></tr></table></figure><h3 id="六、条件判断"><a href="#六、条件判断" class="headerlink" title="六、条件判断"></a>六、条件判断</h3><p>​ 1．基本语法</p><p>[ condition ]（注意condition前后要有空格）</p><p>注意：条件非空即为true，[ atguigu ]返回true，[] 返回false。</p><ol start="2"><li>常用判断条件</li></ol><p>（1）两个整数之间比较</p><ul><li>= 字符串比较</li><li>-lt 小于（less than）</li><li>-le 小于等于（less equal）</li><li>-eq 等于（equal）</li><li>-gt 大于（greater than）</li><li>-ge 大于等于（greater equal）</li><li>-ne 不等于（Not equal）</li></ul><p>（2）按照文件权限进行判断</p><ul><li>-r 有读的权限（read）</li><li>-w 有写的权限（write）</li><li>-x 有执行的权限（execute）</li></ul><p>（3）按照文件类型进行判断</p><ul><li>-f 文件存在并且是一个常规的文件（file）</li><li>-e 文件存在（existence）</li><li>-d 文件存在并是一个目录（directory）</li></ul><p>3．案例实操</p><p>​ （1）23是否大于等于22</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ [ 23 -ge 22 ]</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ echo $?</span><br><span class="line"></span><br><span class="line">0</span><br></pre></td></tr></table></figure><p>​ （2）helloworld.sh是否具有写权限</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ [ -w helloworld.sh ]</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ echo $?</span><br><span class="line"></span><br><span class="line">0</span><br></pre></td></tr></table></figure><p>​ （3）/home/atguigu/cls.txt目录中的文件是否存在</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ [ -e &#x2F;home&#x2F;atguigu&#x2F;cls.txt ]</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ echo $?</span><br><span class="line"></span><br><span class="line">1</span><br></pre></td></tr></table></figure><p>（4）多条件判断（&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令，|| 表示上一条命令执行失败后，才执行下一条命令）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 ~]$ [ condition ] &amp;&amp; echo OK || echo notok</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ [ condition ] &amp;&amp; [ ] || echo notok</span><br><span class="line">notok</span><br></pre></td></tr></table></figure><h3 id="七、流程控制（重点）"><a href="#七、流程控制（重点）" class="headerlink" title="七、流程控制（重点）"></a>七、流程控制（重点）</h3><h4 id="7-1-if判断"><a href="#7-1-if判断" class="headerlink" title="7.1 if判断"></a>7.1 if判断</h4><p>1．基本语法</p><p>if [ 条件判断式 ];then</p><p>程序</p><p>fi</p><p>或者</p><p>if [ 条件判断式 ]</p><p>then</p><p>程序</p><p>elif [ 条件判断式 ]</p><p>​ then</p><p>​ 程序</p><p>else</p><p>​ 程序</p><p>fi</p><p>​ 注意事项：</p><p>（1）[ 条件判断式 ]，中括号和条件判断式之间必须有空格</p><p>（2）if后要有空格</p><p>2．案例实操</p><p>（1）输入一个数字，如果是1，则输出banzhang zhen shuai，如果是2，则输出cls zhen mei，如果是其它，什么也不输出。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch if.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim if.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">if [ $1 -eq &quot;1&quot; ]</span><br><span class="line"></span><br><span class="line">then</span><br><span class="line">    echo &quot;banzhang zhen shuai&quot;</span><br><span class="line">elif [ $1 -eq &quot;2&quot; ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;cls zhen mei&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ chmod 777 if.sh </span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;if.sh 1</span><br><span class="line"></span><br><span class="line">banzhang zhen shuai</span><br></pre></td></tr></table></figure><h4 id="7-2-case语句"><a href="#7-2-case语句" class="headerlink" title="7.2 case语句"></a>7.2 case语句</h4><p>1．基本语法</p><p>case $变量名 in</p><p>“值1”）</p><p>如果变量的值等于值1，则执行程序1</p><p>;;</p><p>“值2”）</p><p>如果变量的值等于值2，则执行程序2</p><p>;;</p><p>…省略其他分支…</p><p>*）</p><p>如果变量的值都不是以上的值，则执行此程序</p><p>;;</p><p>esac</p><p>注意事项：</p><ul><li><ol><li>case行尾必须为单词“in”，每一个模式匹配必须以右括号“）”结束。</li></ol></li><li><ol start="2"><li>双分号“*<strong>*;;**</strong>”表示命令序列结束，相当于java中的break。</li></ol></li><li><ol start="3"><li>最后的“*）”表示默认模式，相当于java中的default。</li></ol></li></ul><p>2．案例实操</p><p>（1）输入一个数字，如果是1，则输出banzhang，如果是2，则输出cls，如果是其它，输出renyao。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch case.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim case.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">    echo &quot;banzhang&quot;</span><br><span class="line">;;</span><br><span class="line">&quot;2&quot;)</span><br><span class="line">    echo &quot;cls&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">    echo &quot;renyao&quot;</span><br><span class="line">;;</span><br><span class="line"></span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ chmod 777 case.sh</span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;case.sh 1</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h4 id="7-3-for循环"><a href="#7-3-for循环" class="headerlink" title="7.3 for循环"></a>7.3 for循环</h4><p>1．基本语法1</p><p>​ for (( 初始值;循环控制条件;变量变化 ))</p><p>do</p><p>程序</p><p>done</p><p>2．案例实操</p><p>（1）从1加到100</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch for1.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim for1.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">s&#x3D;0</span><br><span class="line">for((i&#x3D;0;i&lt;&#x3D;100;i++))</span><br><span class="line">do</span><br><span class="line">    s&#x3D;$[$s+$i]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo $s</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ chmod 777 for1.sh </span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;for1.sh </span><br><span class="line"></span><br><span class="line">“5050”</span><br></pre></td></tr></table></figure><p>3．基本语法2</p><p>for 变量 in 值1 值2 值3…</p><p>do</p><p>程序</p><p>done</p><p>4．案例实操</p><p>​ （1）打印所有输入参数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch for2.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim for2.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">#打印数字</span><br><span class="line"></span><br><span class="line">for i in $*</span><br><span class="line">do</span><br><span class="line">   echo &quot;ban zhang love $i &quot;</span><br><span class="line"></span><br><span class="line">done</span><br><span class="line"> </span><br><span class="line">[atguigu@hadoop101 datas]$ chmod 777 for2.sh </span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ bash for2.sh cls xz bd</span><br><span class="line"></span><br><span class="line">ban zhang love cls</span><br><span class="line"></span><br><span class="line">ban zhang love xz</span><br><span class="line"></span><br><span class="line">ban zhang love bd</span><br></pre></td></tr></table></figure><p>（2）比较$*和$@区别</p><ul><li>$*和$@都表示传递给函数或脚本的所有参数，不被双引号“”包含时，都以$1 $2 …$n的形式输出所有参数。</li><li>当它们被双引号“”包含时，“$*”会将所有的参数作为一个整体，以“$1 $2 …$n”的形式输出所有参数；“$@”会将各个参数分开，以“$1” “$2”…”$n”的形式输出所有参数。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ vim for.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash </span><br><span class="line">for i in &quot;$*&quot; </span><br><span class="line">#$*中的所有参数看成是一个整体，所以这个for循环只会循环一次 </span><br><span class="line"></span><br><span class="line">do </span><br><span class="line">     echo &quot;ban zhang love $i&quot;</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">for j in &quot;$@&quot; </span><br><span class="line"></span><br><span class="line">#$@中的每个参数都看成是独立的，所以“$@”中有几个参数，就会循环几次 </span><br><span class="line"></span><br><span class="line">do </span><br><span class="line">     echo &quot;ban zhang love $j&quot; </span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ chmod 777 for.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ bash for.sh cls xz bd</span><br><span class="line"></span><br><span class="line">ban zhang love cls xz bd</span><br><span class="line"></span><br><span class="line">ban zhang love cls</span><br><span class="line"></span><br><span class="line">ban zhang love xz</span><br><span class="line"></span><br><span class="line">ban zhang love bd</span><br></pre></td></tr></table></figure><h4 id="7-4-while循环"><a href="#7-4-while循环" class="headerlink" title="7.4 while循环"></a>7.4 while循环</h4><p>1．基本语法</p><p>while [ 条件判断式 ]</p><p>do</p><p>程序</p><p>done</p><p>2．案例实操</p><p>​ （1）从1加到100</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch while.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim while.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">s&#x3D;0</span><br><span class="line">i&#x3D;1</span><br><span class="line">while [ $i -le 100 ]</span><br><span class="line">do</span><br><span class="line">    s&#x3D;$[$s+$i]</span><br><span class="line">    i&#x3D;$[$i+1]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo $s</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ chmod 777 while.sh </span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;while.sh </span><br><span class="line"></span><br><span class="line">5050</span><br></pre></td></tr></table></figure><h3 id="八、read读取控制台输入"><a href="#八、read读取控制台输入" class="headerlink" title="八、read读取控制台输入"></a>八、read读取控制台输入</h3><p>1．基本语法</p><p>​ read(选项)(参数)</p><p>​ 选项：</p><p>-p：指定读取值时的提示符；</p><p>-t：指定读取值时等待的时间（秒）。</p><p>参数</p><p>​ 变量：指定读取值的变量名</p><p>2．案例实操</p><p>​ （1）提示7秒内，读取控制台输入的名称</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch read.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim read.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">read -t 7 -p &quot;Enter your name in 7 seconds &quot; NAME</span><br><span class="line"></span><br><span class="line">echo $NAME</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;read.sh </span><br><span class="line"></span><br><span class="line">Enter your name in 7 seconds xiaoze</span><br><span class="line"></span><br><span class="line">xiaoze</span><br></pre></td></tr></table></figure><h3 id="九、函数"><a href="#九、函数" class="headerlink" title="九、函数"></a>九、函数</h3><h4 id="9-1-系统函数"><a href="#9-1-系统函数" class="headerlink" title="9.1 系统函数"></a>9.1 系统函数</h4><p>1．basename基本语法</p><p>basename [string / pathname] [suffix] （功能描述：basename命令会删掉所有的前缀包括最后一个（‘/’）字符，然后将字符串显示出来。</p><p>选项：</p><p>suffix为后缀，如果suffix被指定了，basename会将pathname或string中的suffix去掉。</p><p>2．案例实操</p><p>（1）截取该/home/atguigu/banzhang.txt路径的文件名称</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ basename &#x2F;home&#x2F;atguigu&#x2F;banzhang.txt </span><br><span class="line"></span><br><span class="line">banzhang.txt</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ basename &#x2F;home&#x2F;atguigu&#x2F;banzhang.txt .txt</span><br><span class="line"></span><br><span class="line">banzhang</span><br></pre></td></tr></table></figure><ol start="3"><li>dirname基本语法</li></ol><p>​ dirname 文件绝对路径 （功能描述：从给定的包含绝对路径的文件名中去除文件名（非目录的部分），然后返回剩下的路径（目录的部分））</p><p>4．案例实操</p><p>（1）获取banzhang.txt文件的路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 ~]$ dirname &#x2F;home&#x2F;atguigu&#x2F;banzhang.txt </span><br><span class="line"></span><br><span class="line">&#x2F;home&#x2F;atguigu</span><br></pre></td></tr></table></figure><h4 id="9-2-自定义函数"><a href="#9-2-自定义函数" class="headerlink" title="9.2 自定义函数"></a>9.2 自定义函数</h4><p>1．基本语法</p><p>[ function ] funname[()]</p><p>{</p><p>​ Action;</p><p>​ [return int;]</p><p>}</p><p>funname</p><p>2．经验技巧</p><p>​ （1）必须在调用函数地方之前，先声明函数，shell脚本是逐行运行。不会像其它语言一样先编译。</p><p>​ （2）函数返回值，只能通过$?系统变量获得，可以显示加：return返回，如果不加，将以最后一条命令运行结果，作为返回值。return后跟数值n(0-255)</p><p>3．案例实操</p><p>​ （1）计算两个输入参数的和</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch fun.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim fun.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">function sum()</span><br><span class="line">&#123;</span><br><span class="line">  s&#x3D;0</span><br><span class="line">  s&#x3D;$[ $1 + $2 ]</span><br><span class="line">  echo &quot;$s&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">read -p &quot;Please input the number1: &quot; n1;</span><br><span class="line">read -p &quot;Please input the number2: &quot; n2;</span><br><span class="line">sum $n1 $n2; </span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ chmod 777 fun.sh</span><br><span class="line">[atguigu@hadoop101 datas]$ .&#x2F;fun.sh </span><br><span class="line"></span><br><span class="line">Please input the number1: 2</span><br><span class="line">Please input the number2: 5</span><br><span class="line"></span><br><span class="line">7</span><br></pre></td></tr></table></figure><h3 id="十、Shell工具（重点）"><a href="#十、Shell工具（重点）" class="headerlink" title="十、Shell工具（重点）"></a>十、Shell工具（重点）</h3><h4 id="10-1-cut"><a href="#10-1-cut" class="headerlink" title="10.1 cut"></a>10.1 cut</h4><p>​ cut的工作就是“剪”，具体的说就是在文件中负责剪切数据用的。cut 命令从文件的每一行剪切字节、字符和字段并将这些字节、字符和字段输出。</p><p>1.基本用法</p><p>cut [选项参数] filename</p><p>说明：默认分隔符是制表符</p><p>2.选项参数说明</p><p>表1-55</p><table><thead><tr><th>选项参数</th><th>功能</th></tr></thead><tbody><tr><td>-f</td><td>列号，提取第几列</td></tr><tr><td>-d</td><td>分隔符，按照指定分隔符分割列</td></tr><tr><td>-c</td><td>指定具体的字符</td></tr></tbody></table><p>3.案例实操</p><p>（0）数据准备</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ touch cut.txt</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop101 datas]$ vim cut.txt</span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br></pre></td></tr></table></figure><p>（1）切割cut.txt第一列</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ cut -d &quot; &quot; -f 1 cut.txt </span><br><span class="line"></span><br><span class="line">dong</span><br><span class="line">guan</span><br><span class="line">wo</span><br><span class="line">lai</span><br><span class="line">le</span><br></pre></td></tr></table></figure><p>（2）切割cut.txt第二、三列</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ cut -d &quot; &quot; -f 2,3 cut.txt </span><br><span class="line"></span><br><span class="line">shen</span><br><span class="line">zhen</span><br><span class="line">wo</span><br><span class="line">lai</span><br><span class="line">le</span><br></pre></td></tr></table></figure><p>（3）在cut.txt文件中切割出guan</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ cat cut.txt | grep &quot;guan&quot; | cut -d &quot; &quot; -f 1</span><br><span class="line">guan</span><br></pre></td></tr></table></figure><p>（4）选取系统PATH变量值，第2个“：”开始后的所有路径：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ echo $PATH</span><br><span class="line"></span><br><span class="line">&#x2F;usr&#x2F;lib64&#x2F;qt-3.3&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;bin:&#x2F;usr&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;sbin:&#x2F;usr&#x2F;sbin:&#x2F;sbin:&#x2F;home&#x2F;atguigu&#x2F;bin</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop102 datas]$ echo $PATH | cut -d: -f 2-</span><br><span class="line"></span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;bin:&#x2F;usr&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;sbin:&#x2F;usr&#x2F;sbin:&#x2F;sbin:&#x2F;home&#x2F;atguigu&#x2F;bin</span><br></pre></td></tr></table></figure><p>（5）切割ifconfig 后打印的IP地址</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 datas]$ ifconfig eth0 | grep &quot;inet addr&quot; | cut -d: -f 2 | cut -d&quot; &quot; -f1</span><br><span class="line"></span><br><span class="line">192.168.1.102</span><br></pre></td></tr></table></figure><h4 id="10-2-sed"><a href="#10-2-sed" class="headerlink" title="10.2 sed"></a>10.2 sed</h4><p>​ sed是一种流编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”，接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有改变，除非你使用重定向存储输出。</p><ol><li>基本用法</li></ol><p>sed [选项参数] ‘command’ filename</p><ol start="2"><li>选项参数说明</li></ol><table><thead><tr><th>选项参数</th><th>功能</th></tr></thead><tbody><tr><td>-e</td><td>直接在指令列模式上进行sed的动作编辑。</td></tr><tr><td>-i</td><td>直接编辑文件</td></tr></tbody></table><ol start="3"><li>命令功能描述</li></ol><table><thead><tr><th>命令</th><th>功能描述</th></tr></thead><tbody><tr><td><strong>a</strong></td><td>新增，a的后面可以接字串，在下一行出现</td></tr><tr><td>d</td><td>删除</td></tr><tr><td>s</td><td>查找并替换</td></tr></tbody></table><ol start="4"><li>案例实操</li></ol><p>（0）数据准备</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ touch sed.txt</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop102 datas]$ vim sed.txt</span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br></pre></td></tr></table></figure><p>（1）将“mei nv”这个单词插入到sed.txt第二行下，打印。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ sed &#39;2a mei nv&#39; sed.txt </span><br><span class="line"></span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">mei nv</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ cat sed.txt </span><br><span class="line"></span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br></pre></td></tr></table></figure><p>注意：文件并没有改变</p><p>（2）删除sed.txt文件所有包含wo的行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ sed &#39;&#x2F;wo&#x2F;d&#39; sed.txt</span><br><span class="line"></span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br></pre></td></tr></table></figure><p>（3）将sed.txt文件中wo替换为ni</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ sed &#39;s&#x2F;wo&#x2F;ni&#x2F;g&#39; sed.txt </span><br><span class="line"></span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">ni  ni</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br></pre></td></tr></table></figure><p>注意：‘g’表示global，全部替换</p><p>（4）将sed.txt文件中的第二行删除并将wo替换为ni</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ sed -e &#39;2d&#39; -e &#39;s&#x2F;wo&#x2F;ni&#x2F;g&#39; sed.txt </span><br><span class="line"></span><br><span class="line">dong shen</span><br><span class="line">ni  ni</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br></pre></td></tr></table></figure><h4 id="10-3-awk"><a href="#10-3-awk" class="headerlink" title="10.3 awk"></a>10.3 awk</h4><p>一个强大的文本分析工具，把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行分析处理。</p><ol><li>基本用法</li></ol><p>awk [选项参数] ‘pattern1{action1} pattern2{action2}…’ filename</p><p>pattern：表示AWK在数据中查找的内容，就是匹配模式</p><p>action：在找到匹配内容时所执行的一系列命令</p><ol start="2"><li>选项参数说明</li></ol><table><thead><tr><th>选项参数</th><th>功能</th></tr></thead><tbody><tr><td>-F</td><td>指定输入文件折分隔符</td></tr><tr><td>-v</td><td>赋值一个用户定义变量</td></tr></tbody></table><ol start="3"><li>案例实操</li></ol><p>（0）数据准备</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ sudo cp &#x2F;etc&#x2F;passwd .&#x2F;</span><br></pre></td></tr></table></figure><p>（1）搜索passwd文件以root关键字开头的所有行，并输出该行的第7列。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ awk -F: &#39;&#x2F;^root&#x2F;&#123;print $7&#125;&#39; passwd </span><br><span class="line"></span><br><span class="line">&#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure><p>（2）搜索passwd文件以root关键字开头的所有行，并输出该行的第1列和第7列，中间以“，”号分割。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ awk -F: &#39;&#x2F;^root&#x2F;&#123;print $1&quot;,&quot;$7&#125;&#39; passwd </span><br><span class="line"></span><br><span class="line">root,&#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure><p>注意：只有匹配了pattern的行才会执行action</p><p>（3）只显示/etc/passwd的第一列和第七列，以逗号分割，且在所有行前面添加列名user，shell在最后一行添加”dahaige，/bin/zuishuai”。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ awk -F : &#39;BEGIN&#123;print &quot;user, shell&quot;&#125; &#123;print $1&quot;,&quot;$7&#125; END&#123;print &quot;dahaige,&#x2F;bin&#x2F;zuishuai&quot;&#125;&#39; passwd</span><br><span class="line"></span><br><span class="line">user, shell</span><br><span class="line"></span><br><span class="line">root,&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">bin,&#x2F;sbin&#x2F;nologin</span><br><span class="line"></span><br><span class="line">atguigu,&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">dahaige,&#x2F;bin&#x2F;zuishuai</span><br></pre></td></tr></table></figure><p>注意：BEGIN 在所有数据读取行之前执行；END 在所有数据执行之后执行。</p><p>（4）将passwd文件中的用户id增加数值1并输出</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ awk -v i&#x3D;1 -F: &#39;&#123;print $3+i&#125;&#39; passwd</span><br><span class="line"></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure><ol start="4"><li>awk的内置变量</li></ol><table><thead><tr><th>变量</th><th>说明</th></tr></thead><tbody><tr><td>FILENAME</td><td>文件名</td></tr><tr><td>NR</td><td>已读的记录数</td></tr><tr><td>NF</td><td>浏览记录的域的个数（切割后，列的个数）</td></tr></tbody></table><ol start="5"><li>案例实操</li></ol><p>（1）统计passwd文件名，每行的行号，每行的列数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ awk -F: &#39;&#123;print &quot;filename:&quot;  FILENAME &quot;, linenumber:&quot; NR  &quot;,columns:&quot; NF&#125;&#39; passwd </span><br><span class="line"></span><br><span class="line">filename:passwd, linenumber:1,columns:7</span><br><span class="line"></span><br><span class="line">filename:passwd, linenumber:2,columns:7</span><br><span class="line"></span><br><span class="line">filename:passwd, linenumber:3,columns:7</span><br></pre></td></tr></table></figure><p>​ （2）切割IP</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ ifconfig eth0 | grep &quot;inet addr&quot; | awk -F: &#39;&#123;print $2&#125;&#39; | awk -F &quot; &quot; &#39;&#123;print $1&#125;&#39; </span><br><span class="line"></span><br><span class="line">192.168.1.102</span><br></pre></td></tr></table></figure><p>​ （3）查询sed.txt中空行所在的行号</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ awk &#39;&#x2F;^$&#x2F;&#123;print NR&#125;&#39; sed.txt </span><br><span class="line"></span><br><span class="line">5</span><br></pre></td></tr></table></figure><h4 id="10-4-sort"><a href="#10-4-sort" class="headerlink" title="10.4 sort"></a>10.4 sort</h4><p>sort命令是在Linux里非常有用，它将文件进行排序，并将排序结果标准输出。</p><ol><li>基本语法</li></ol><p>sort(选项)(参数)</p><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>-n</td><td>依照数值的大小排序</td></tr><tr><td>-r</td><td>以相反的顺序来排序</td></tr><tr><td>-t</td><td>设置排序时所用的分隔字符</td></tr><tr><td>-k</td><td>指定需要排序的列</td></tr></tbody></table><p>参数：指定待排序的文件列表</p><ol start="2"><li>案例实操</li></ol><p>（0）数据准备</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ touch sort.sh</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop102 datas]$ vim sort.sh </span><br><span class="line"></span><br><span class="line">bb:40:5.4</span><br><span class="line">bd:20:4.2</span><br><span class="line">xz:50:2.3</span><br><span class="line">cls:10:3.5</span><br><span class="line">ss:30:1.6</span><br></pre></td></tr></table></figure><p>（1）按照“：”分割后的第三列倒序排序。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ sort -t : -nrk 3  sort.sh </span><br><span class="line"></span><br><span class="line">bb:40:5.4</span><br><span class="line">bd:20:4.2</span><br><span class="line">cls:10:3.5</span><br><span class="line">xz:50:2.3</span><br><span class="line">ss:30:1.6</span><br></pre></td></tr></table></figure><h3 id="十一、企业真实面试题"><a href="#十一、企业真实面试题" class="headerlink" title="十一、企业真实面试题"></a>十一、企业真实面试题</h3><h4 id="11-1-京东"><a href="#11-1-京东" class="headerlink" title="11.1 京东"></a>11.1 京东</h4><p>问题1：使用Linux命令查询file1中空行所在的行号</p><p>答案：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ awk &#39;&#x2F;^$&#x2F;&#123;print NR&#125;&#39; sed.txt </span><br><span class="line"></span><br><span class="line">5</span><br></pre></td></tr></table></figure><p>问题2：有文件chengji.txt内容如下:</p><p>张三 40</p><p>李四 50</p><p>王五 60</p><p>使用Linux命令计算第二列的和并输出</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ cat chengji.txt | awk -F &quot; &quot; &#39;&#123;sum+&#x3D;$2&#125; END&#123;print sum&#125;&#39;</span><br><span class="line"></span><br><span class="line">150</span><br></pre></td></tr></table></figure><h4 id="11-2-搜狐-amp-和讯网"><a href="#11-2-搜狐-amp-和讯网" class="headerlink" title="11.2 搜狐&amp;和讯网"></a>11.2 搜狐&amp;和讯网</h4><p>问题1：Shell脚本里如何检查一个文件是否存在？如果不存在该如何处理？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">if [ -f file.txt ]; then</span><br><span class="line">  echo &quot;文件存在!&quot;</span><br><span class="line">else</span><br><span class="line">  echo &quot;文件不存在!&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h4 id="11-3-新浪"><a href="#11-3-新浪" class="headerlink" title="11.3 新浪"></a>11.3 新浪</h4><p>问题1：用shell写一个脚本，对文本中无序的一列数字排序</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@CentOS6-2 ~]# cat test.txt</span><br><span class="line">9</span><br><span class="line">8</span><br><span class="line">7</span><br><span class="line">6</span><br><span class="line">5</span><br><span class="line">4</span><br><span class="line">3</span><br><span class="line">2</span><br><span class="line">10</span><br><span class="line">1</span><br><span class="line">[root@CentOS6-2 ~]# sort -n test.txt|awk &#39;&#123;a+&#x3D;$0;print $0&#125;END&#123;print &quot;SUM&#x3D;&quot;a&#125;&#39;</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">SUM&#x3D;55</span><br></pre></td></tr></table></figure><h4 id="11-4-金和网络"><a href="#11-4-金和网络" class="headerlink" title="11.4 金和网络"></a>11.4 金和网络</h4><p>问题1：请用shell脚本写出查找当前文件夹（/home）下所有的文本文件内容中包含有字符”shen”的文件名称</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 datas]$ grep -r &quot;shen&quot; &#x2F;home | cut -d &quot;:&quot; -f 1</span><br><span class="line">&#x2F;home&#x2F;atguigu&#x2F;datas&#x2F;sed.txt</span><br><span class="line">&#x2F;home&#x2F;atguigu&#x2F;datas&#x2F;cut.txt</span><br></pre></td></tr></table></figure></div></article></div><div class="aside"><div class="box widget"><div class="introduction"><p><img src="/images/ironman.jpg" alt="head-sculpture"></p><p class="name">罗明辉Eric</p><p class="slogan">个人博客，分享经验，分享快乐</p></div></div><div class="box widget"><div class="title">最新</div><ul class="item-box"><li><a href="/2020/09/26/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E5%BB%BA%E6%A8%A1/">数据仓库-建模</a></li><li><a href="/2020/09/20/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E6%9E%B6%E6%9E%84/">数据仓库-架构</a></li><li><a href="/2020/09/19/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E6%A6%82%E8%BF%B0/">数据仓库-概述</a></li><li><a href="/2020/09/18/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/">数据仓库</a></li><li><a href="/2020/09/01/BigDataFrame/HDFS%E8%AF%BB%E5%86%99%E6%B5%81%E7%A8%8B/">HDFS读写流程</a></li><li><a href="/2020/07/28/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E8%AF%AD%E5%8F%A5%E8%B0%83%E4%BC%98/">SQL语句调优</a></li><li><a href="/2020/07/26/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql%E5%8E%9F%E7%90%86/">Mysql底层原理</a></li><li><a href="/2020/07/25/%E6%95%B0%E6%8D%AE%E5%BA%93/MySql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%95%E6%93%8E/">MySql数据库的引擎</a></li></ul></div><div class="box widget"><div class="title">分类</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/BI%E5%B7%A5%E5%85%B7/">BI工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ETL%E5%B7%A5%E5%85%B7/">ETL工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%A1%86%E6%9E%B6/">大数据框架</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/">数据仓库</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%88%AC%E8%99%AB/">爬虫</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a><span class="category-list-count">1</span></li></ul></div><div class="box widget"><div class="title">归档</div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">2020-09</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">2020-07</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">2020-06</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">2020-05</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">2020-01</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">2019-12</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">2019-07</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">2019-03</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">2018-09</a><span class="archive-list-count">1</span></li></ul></div></div></section><footer class="footer"><div class="global-width footer-box"><div class="copyright"><span>Copyright &copy; 2020</span> <span class="dotted">|</span> <span>Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a></span> <span class="dotted">|</span></div></div></footer></div><script>hljs.initHighlightingOnLoad()</script></body></html>