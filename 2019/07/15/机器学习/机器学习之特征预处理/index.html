<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="author" content="Eric"><meta name="keywords" content=""><meta name="description" content="特征预处理通过特定的统计方法(数学方法)将数据转化成算法要求的数据
数值型数据
标准缩放：
1.归一化
2.标准化
3.缺失值



类别型数据
one-hot 编码
关于one-hot编码：https://blog.csdn.net/weixin_43170863/article/detai..."><meta name="Robots" content="all"><title>Eric个人博客 | 机器学习之特征预处理</title><link rel="icon" href="/images/icon.svg"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/atom-one-dark.css"><link rel="stylesheet" href="/css/style.css"><script src="/js/highlight.min.js"></script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Eric个人博客" type="application/atom+xml"></head><body><div class="main-container"><header class="header"><div class="global-width"><nav class="nav-box"><a class="nav-item" href="/">主页</a> <a class="nav-item" href="/resume">项目</a> <a class="nav-item" href="/mood" target="_blank">热点观点</a> <a class="nav-item" href="/2018/01/01/introduce/" target="_blank">个人介绍</a> <a class="nav-item" href="/fuye.md">关于</a></nav></div></header><section class="content global-width"><div class="main"><article class="box post"><div class="post-title align-center detail-title">机器学习之特征预处理</div><div class="post-meta align-center"><span class="label">原创</span> <span class="dotted">|</span> <i class="fa fa-calendar"></i> <time>2019-07-15</time> <span class="dotted">|</span> <i class="fa fa-user"></i> Eric <span class="dotted">|</span> <i class="fa fa-folder-open-o"></i> <a class="category-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a></div><div class="post-content"><h3 id="特征预处理"><a href="#特征预处理" class="headerlink" title="特征预处理"></a>特征预处理</h3><p><font color="red">通过特定的统计方法(数学方法)将数据转化成算法要求的数据</font></p><h4 id="数值型数据"><a href="#数值型数据" class="headerlink" title="数值型数据"></a>数值型数据</h4><ul><li>标准缩放：<ul><li>1.归一化</li><li>2.标准化</li><li>3.缺失值</li></ul></li></ul><h4 id="类别型数据"><a href="#类别型数据" class="headerlink" title="类别型数据"></a>类别型数据</h4><ul><li>one-hot 编码</li><li>关于one-hot编码：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43170863/article/details/100184168">https://blog.csdn.net/weixin_43170863/article/details/100184168</a></li></ul><h4 id="时间类型"><a href="#时间类型" class="headerlink" title="时间类型"></a>时间类型</h4><ul><li>时间的切分</li></ul><h4 id="sklearn特征处理API"><a href="#sklearn特征处理API" class="headerlink" title="sklearn特征处理API"></a>sklearn特征处理API</h4><ul><li>sklearn.preprocessing</li></ul><hr><a id="more"></a><h4 id="归一化"><a href="#归一化" class="headerlink" title="归一化"></a>归一化</h4><ul><li><p><font color="red">特点：通过对原始数据进行变换把数据映射到(默认为[0,1])之间</font></p></li><li><p>公式：<br><img src="https://img-blog.csdn.net/20180811231252291?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dqcGxlYXJuaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述"><br>X = Xnorm*(mx-mi)+mi</p></li><li><p>注：作用于每一列，max为一列的最大值，min为一列的最小值，X为最终结果，mx，mi分别为指定区间值默认mx为1，mi为0</p></li><li><p>缺点：在特定场景下最大值最小值是变化的，另外，最大值与最小值非常容易受<font color="red">异常点</font>影响，所以这种方法鲁棒性较差，只适合<font color="red">传统精确小数据场景。</font></p></li><li><p>鲁棒性—-反应产品的稳定性</p></li></ul><h4 id="sklearn归一化API"><a href="#sklearn归一化API" class="headerlink" title="sklearn归一化API"></a>sklearn归一化API</h4><ul><li><code>sklearn.preprocessing.MinMaxScalar</code></li><li><code>MinMaxScalar(feature_range=(0,1))...</code><ul><li>每个特征缩放到给定范围</li></ul></li><li><code>MinMaxScalar.fit_transform(X)</code><ul><li>X:numpy array格式的数据[n_samples,n_features]</li><li>返回值：转换后的形状相同的array<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">guiyi</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    归一化处理</span></span><br><span class="line"><span class="string">    :return:None</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    array1 = [[<span class="number">100</span>,<span class="number">4</span>,<span class="number">15</span>,<span class="number">45</span>],[<span class="number">63</span>,<span class="number">41</span>,<span class="number">25</span>,<span class="number">34</span>],[<span class="number">34</span>,<span class="number">31</span>,<span class="number">130</span>,<span class="number">34</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 实例化</span></span><br><span class="line">    mm = MinMaxScaler(feature_range=(<span class="number">2</span>,<span class="number">4</span>))</span><br><span class="line">    data = mm.fit_transform(array1)</span><br><span class="line">    print(data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="标准化"><a href="#标准化" class="headerlink" title="标准化"></a>标准化</h4><ul><li>特点：通过对原始数据进行变换把数据变换到均值为0，标准差为1范围内</li><li>公式<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWFnZXMyMDE4LmNuYmxvZ3MuY29tL2Jsb2cvMTM1NTM4Ny8yMDE4MDUvMTM1NTM4Ny0yMDE4MDUyNTEyNTc0NDI4MC0xNDY5NDM1MzQucG5n?x-oss-process=image/format,png" alt="在这里插入图片描述"></li><li>注：作用于每一列，Xmean为平均值，S为标准差</li><li>优点：如果出现异常点，由于<font color="red">具有一定数据量，少量的异常点对于平均值的影响并不大</font>，从而方差改变较小。</li><li>在已有<font color="red">样本足够多的情况下比较稳定</font>,适合现代嘈杂大数据场景。</li></ul><h4 id="sklearn标准化API"><a href="#sklearn标准化API" class="headerlink" title="sklearn标准化API"></a>sklearn标准化API</h4><ul><li><code>sklearn.preprocessing.StandardScaler</code><ul><li>处理后每列来说所有数据都聚集在<font color="red">均值0附近标准差为1</font></li></ul></li><li><code>StandardScaler.fit_transform(X)</code></li><li><code>StandardScaler.mean_</code> 原始数据中每列特征的平均值</li><li><code>StandardScaler.std_</code> 原始数据每列特征的方差<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stand</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    标准化缩放</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    list1 = [[<span class="number">4</span>,<span class="number">-1</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">-4</span>,<span class="number">2</span>],[<span class="number">6</span>,<span class="number">6</span>,<span class="number">-1</span>]]</span><br><span class="line">    std = StandardScaler()</span><br><span class="line">    data = std.fit_transform(list1)</span><br><span class="line">    print(data)</span><br><span class="line">    print(std.mean_)</span><br><span class="line">    print(std.scale_)</span><br><span class="line">    <span class="keyword">return</span> NaN</span><br></pre></td></tr></table></figure></li></ul><h4 id="处理缺失值"><a href="#处理缺失值" class="headerlink" title="处理缺失值"></a>处理缺失值</h4><ul><li>删除</li><li>插补：添补平均值或中位数</li><li>sklearn缺失值API<ul><li><code>sklearn.preprocessing.Imputer</code></li><li><code>Imputer(missing_values=&#39;NaN&#39;,strategy=&#39;mean&#39;,axis=0)</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">im</span>():</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">   缺失值处理</span></span><br><span class="line"><span class="string">   :return: None</span></span><br><span class="line"><span class="string">   &quot;&quot;&quot;</span></span><br><span class="line">   im = Imputer(missing_values=<span class="string">&#x27;NaN&#x27;</span>,strategy=<span class="string">&#x27;mean&#x27;</span>,axis=<span class="number">0</span>)</span><br><span class="line">   data = im.fit_transform([[<span class="number">1</span>,<span class="number">2</span>],[np.nan,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>]])</span><br><span class="line">   print(data)</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></div></article></div><div class="aside"><div class="box widget"><div class="introduction"><p><img src="/images/ironman.jpg" alt="head-sculpture"></p><p class="name">罗明辉Eric</p><p class="slogan">个人博客，分享经验，分享快乐</p></div></div><div class="box widget"><div class="title">最新</div><ul class="item-box"><li><a href="/2020/09/26/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E5%BB%BA%E6%A8%A1/">数据仓库架构</a></li><li><a href="/2020/09/20/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E6%9E%B6%E6%9E%84/">数据仓库架构</a></li><li><a href="/2020/09/19/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E6%A6%82%E8%BF%B0/">数据仓库概述</a></li><li><a href="/2020/09/18/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/">数据仓库</a></li><li><a href="/2020/07/28/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E8%AF%AD%E5%8F%A5%E8%B0%83%E4%BC%98/">SQL语句调优</a></li><li><a href="/2020/07/26/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql%E5%8E%9F%E7%90%86/">Mysql底层原理</a></li><li><a href="/2020/07/25/%E6%95%B0%E6%8D%AE%E5%BA%93/MySql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%95%E6%93%8E/">MySql数据库的引擎</a></li><li><a href="/2020/07/15/BigDataFrame/HBase%E5%85%A5%E9%97%A8/">HBase入门</a></li></ul></div><div class="box widget"><div class="title">分类</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/BI%E5%B7%A5%E5%85%B7/">BI工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ETL%E5%B7%A5%E5%85%B7/">ETL工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%A1%86%E6%9E%B6/">大数据框架</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/">数据仓库</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%88%AC%E8%99%AB/">爬虫</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a><span class="category-list-count">1</span></li></ul></div><div class="box widget"><div class="title">归档</div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">2020-09</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">2020-07</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">2020-06</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">2020-05</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">2020-01</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">2019-12</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">2019-07</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">2019-03</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">2018-09</a><span class="archive-list-count">1</span></li></ul></div></div></section><footer class="footer"><div class="global-width footer-box"><div class="copyright"><span>Copyright &copy; 2020</span> <span class="dotted">|</span> <span>Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a></span> <span class="dotted">|</span></div></div></footer></div><script>hljs.initHighlightingOnLoad()</script></body></html>